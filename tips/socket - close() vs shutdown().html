<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>socket - close() vs shutdown()</title>
</head>

<body>
    <ul>
        <li>close() 关闭socket的发送和接收，不可控
            <br>shutdown() 可控制只停止发送或接收其中之一，也可以全部停止</li>
        <br>
        <li>shutdown()只把socket置为不可用，不影响描述的引用计数，要释放资源，需要使用close()
            <br>原文：shutdown() doesn't actually close the file descriptor—it just changes its usability. To free a socket descriptor,
            you need to use close()
            <a href=http://beej.us/guide/bgnet/output/html/multipage/syscalls.html#closedown>-- by Beej's Guide to Network Programming</a>
            <br><s>2017-06：如果要使用同一个socket在项目里进行断线重连处理，应该用shutdown()，因为使用close后资源引用就被释放掉了</s></li>
    </ul>
</body>

</html>